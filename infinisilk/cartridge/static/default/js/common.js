function getCookie(c_name) {
	if (document.cookie.length>0){
  		c_start=document.cookie.indexOf(c_name + "=");
  		if (c_start!=-1) {
    		c_start=c_start + c_name.length+1;
    		c_end=document.cookie.indexOf(";",c_start);
    		if (c_end==-1) c_end=document.cookie.length;
    		return unescape(document.cookie.substring(c_start,c_end));
    	}
  	}
	return "";
}
var common = {};
common.ui = {
		dependlink :{
			element : ".dependcom",
			init : function(){
				$('.dependcomlink').click(function() {
					
					/*Start of DoubleClick Floodlight Tag: Please do not remove
					Activity name of this tag: Visit Depend Website
					URL of the webpage where the tag is expected to be placed: http://www.depend.com/store
					This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
					Creation Date: 08/12/2013
					*/
					var axel = Math.random() + "";
					var a = axel * 10000000000000;
					//Script Tag
					$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=visit488;ord=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					//Noscript Tag
					//$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=visit488;ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
				});
			}
		},
		
		mediapixelorderMainlineMale :{
			element : ".mediapixel-order-Mainline-Male",
			init : function(){
				$('.mediapixel-order-Mainline-Male').click(function() {
					
					/*Start of DoubleClick Floodlight Tag: Please do not remove
					Activity name of this tag: Product Selector Order for Women
					URL of the webpage where the tag is expected to be placed: http://www.depend.com/store
					This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
					Creation Date: 08/12/2013
					*/
					var axel = Math.random() + "";
					var a = axel * 10000000000000;
					//Script Tag
					$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=produ744;ord=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					//Noscript Tag
					//$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=produ744;ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					$('body').append('<img src="https://tracker.marinsm.com/tp?act=2&cid=2722uhy20674&trans=UTM:I||ordernowtop||||&rnd=%n" width="1" height="1">');
				});
			}
		},
		
		mediapixelorderMainlineFemale :{
			element : ".mediapixel-order-Mainline-Female",
			init : function(){
				$('.mediapixel-order-Mainline-Female').click(function() {
					/*-
					Start of DoubleClick Floodlight Tag: Please do not remove
					Activity name of this tag: Product Selector Order for Men
					URL of the webpage where the tag is expected to be placed: http://www.depend.com/store
					This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
					Creation Date: 08/12/2013
					
					*/
					var axel = Math.random() + "";
					var a = axel * 10000000000000;
					//Script Tag
					$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=produ393;ord=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					//Noscript Tag
					//$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=produ393;ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					$('body').append('<img src="https://tracker.marinsm.com/tp?act=2&cid=2722uhy20674&trans=UTM:I||ordernowtop||||&rnd=%n" width="1" height="1">');

				});
			}
		},
		mediapixelorderSilhouette :{
			element : ".mediapixel-order-Silhouette",
			init : function(){
				$('.mediapixel-order-Silhouette').click(function() {
					/*
					Start of DoubleClick Floodlight Tag: Please do not remove
					Activity name of this tag: Product Selector Order Now Silhouette
					URL of the webpage where the tag is expected to be placed: http://www.depend.com/store
					This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
					Creation Date: 08/12/2013
					
					*/
					var axel = Math.random() + "";
					var a = axel * 10000000000000;
					//Script Tag
					$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=produ065;ord=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					//Noscript Tag
					//$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=produ065;ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					$('body').append('<img src="https://tracker.marinsm.com/tp?act=2&cid=2722uhy20674&trans=UTM:I||ordernowtop||||&rnd=%n" width="1" height="1">');
				});
			}
		},
		
		mediapixelorderRealFit :{
			element : ".mediapixel-order-RealFit",
			init : function(){
				$('.mediapixel-order-RealFit').click(function() {
					
					/*Start of DoubleClick Floodlight Tag: Please do not remove
					Activity name of this tag: Product Selector Order Now Real Fit
					URL of the webpage where the tag is expected to be placed: http://www.depend.com/store
					This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
					Creation Date: 08/12/2013
					*/
					var axel = Math.random() + "";
					var a = axel * 10000000000000;
					//Script Tag
					$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=produ154;ord=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					//Noscript Tag
					//$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=produ154;ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					$('body').append('<img src="https://tracker.marinsm.com/tp?act=2&cid=2722uhy20674&trans=UTM:I||ordernowtop||||&rnd=%n" width="1" height="1">');
				});
			}
		},
		mediapixelorderTop :{
			element : ".mediapixel-order-Top",
			init : function(){
				$('.mediapixel-order-Top').click(function() {
					
					/*Start of DoubleClick Floodlight Tag: Please do not remove
					Activity name of this tag: Product Selector Order Now Real Fit
					URL of the webpage where the tag is expected to be placed: http://www.depend.com/store
					This tag must be placed between the <body> and </body> tags, as close as possible to the opening tag.
					Creation Date: 08/12/2013
					*/
					var axel = Math.random() + "";
					var a = axel * 10000000000000;
					//Script Tag
					$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=order184;ord=' + a + '?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					//Noscript Tag
					//$('body').append('<iframe src="http://1665659.fls.doubleclick.net/activityi;src=1665659;type=depen607;cat=produ154;ord=1?" width="1" height="1" frameborder="0" style="display:none"></iframe>');
					$('body').append('<img src="https://tracker.marinsm.com/tp?act=2&cid=2722uhy20674&trans=UTM:I||ordernowtop||||&rnd=%n" width="1" height="1">');
				
				});
			}
		}
		
};
common.init = function () {
    $.each(common.ui, function (n, v) {
        if ($(v.element).length > 0 && typeof v.init === "function") {
        	common.ui[n].element = $(v.element);
            v.init();
        }
    })
};
jQuery(document).ready(function() {	
	//common.init();
	footermenuselection();
	equalHeightname($(".product.producttile .productName"));
	equalHeightname($(".product.producttile .productName"));
	equalHeight($(".product.producttile"));
	equalHeight($(".product.producttile"));
	
	// hide server-side error msg when clint side msg come
	$("input").keydown(function(){			
		$(this).parent().find("span:last-child").hide();
	});
	
	$(".email input").keydown(function(){			
		$('.email .errorclient').hide();
	});
	$('.innertabs li.mmainline a').click(function() {		
		$("head").append('<script language="JavaScript1.1" src="https://pixel.mathtag.com/event/js?mt_id=418762&mt_adid=117493&v1=&v2=&v3=&s1=&s2=&s3="></script>')
	});
	$('.innertabs li.wmainline a').click(function() {		
		$("head").append('<script language="JavaScript1.1" src="https://pixel.mathtag.com/event/js?mt_id=418763&mt_adid=117493&v1=&v2=&v3=&s1=&s2=&s3="></script>')
	});
	//Menu functions for Country popup
		$("ul#locale_selector").mouseenter(openCountry);
		$("ul#locale_selector li").click(popAndLoad);

		jQuery('.spotlight-videos .video .video-overlay,.spotlight-videos .video a,.anyvideoPlay, .anyvideoPlaylink a').click(				
			function() {
				jQuery("#VideoViewDialog").remove();
				jQuery("<div/>").attr("id", "VideoViewDialog").html("").appendTo(document.body);
				app.createDialog( {
					id : 'VideoViewDialog',
					options : {
						bgiframe : true,
						modal : true,
						closeOnEscape : true,
						width : 687,
						height : 620,
						title : '',
						resizable : false
					}
				});
				var urlvedio = jQuery(this).attr('href');
				jQuery("#VideoViewDialog").parent()
				.css('background','none')
				.css('border-radius','10px')
				.css('-moz-border-radius','10px')
				.css('-webkit-border-radius','10px');

				var objtitle = jQuery("#VideoViewDialog").siblings('.ui-dialog-titlebar');
				objtitle.find('.ui-dialog-titlebar-close').addClass('quickViewDialog-close').removeClass('ui-dialog-titlebar-close');
				jQuery('#VideoViewDialog').load(urlvedio);
				jQuery('#VideoViewDialog').dialog('open');
				return false;
			});
				
		jQuery('.video-overlay-home').click(function() {
					jQuery("#VideoViewDialog").remove();
					jQuery("<div/>").attr("id", "VideoViewDialog").html("").appendTo(document.body);
					app.createDialog( {
						id : 'VideoViewDialog',
						options : {
							bgiframe : true,
							modal : true,
							closeOnEscape : true,
							width : 915,
							height : 618,
							title : '',
							resizable : false
						}
					});
					
					var urlvedio = jQuery(this).attr('href');
					jQuery("#VideoViewDialog").parent()
					.css('background','#fff')
					.css('border-radius','10px')
					.css('-moz-border-radius','10px')
					.css('-webkit-border-radius','10px')
					.css('padding','10px');

					var objtitle = jQuery("#VideoViewDialog").siblings('.ui-dialog-titlebar');
					objtitle.find('.ui-dialog-titlebar-close').addClass('quickViewDialog-close').addClass('quickViewDialog-closebox').removeClass('ui-dialog-titlebar-close');
					jQuery('#VideoViewDialog').load(urlvedio);
					jQuery('#VideoViewDialog').dialog('open');
					return false;
				});
					

			jQuery('.panelb-firstpromo-home').click(function() {			
				jQuery("#compare-table-popup").remove();
				jQuery("<div/>").attr("id", "compare-table-popup").html("").appendTo(document.body);
				app.createDialog( {
					id : 'compare-table-popup',
					options : {
						bgiframe : true,
						modal : true,
						closeOnEscape : true,
						width : 660,
						height : 550,
						title : '',
						position: "top",
						resizable : false
					}
				});
			
				var url = jQuery(this).attr('href');
				jQuery("#compare-table-popup").parent()
				.css('background','#fff')
				.css('border-radius','10px')
				.css('-moz-border-radius','10px')
				.css('-webkit-border-radius','10px')
				.css('padding','0px');
				var objtitle = jQuery("#compare-table-popup").siblings('.ui-dialog-titlebar');
				objtitle.find('.ui-dialog-titlebar-close').addClass('quickViewDialog-close').addClass('quickViewDialog-closebox').removeClass('ui-dialog-titlebar-close');
				jQuery('#compare-table-popup').load(url);
				jQuery("#compare-table-popup").siblings().find('.quickViewDialog-close span.ui-icon').css("top","3px").css("right","8px");
				jQuery('#compare-table-popup').dialog('open');		
				return false;
				});
		
		
		
		jQuery('.overlayOpen').click(				
				
				function() {
					jQuery("#overlayOpenSas").remove();
					jQuery("<div/>").attr("id", "overlayOpenSas").html("").appendTo(document.body);
					app.createDialog( {
						id : 'overlayOpenSas',
						options : {
							bgiframe : true,
							modal : true,
							closeOnEscape : true,
							width : 710,
							height : 'auto',
							title : '',
							resizable : false
						}
					});
					var urlvedio = jQuery(this).attr('href');
					jQuery("#overlayOpenSas").parent()
					.css('background','#fff')
					.css('border-radius','10px')
					.css('-moz-border-radius','10px')
					.css('-webkit-border-radius','10px')
					.css('padding','10px')
					.attr("id", "sasPopup");

					var objtitle = jQuery("#overlayOpenSas").siblings('.ui-dialog-titlebar');
					objtitle.find('.ui-dialog-titlebar-close').addClass('wen_close').removeClass('ui-dialog-titlebar-close');
					jQuery('#overlayOpenSas').load(urlvedio);
					jQuery('#overlayOpenSas').dialog('open');
					return false;
				});	
				
				// Move from airline.js
		// tab for pant count
		  $(".pant-count-title span").click(function(event){ 
			  	 $(".women-depend-underwear-d,.men-depend-underwear-d").hide();
				 $(".pant-count-title span").removeClass("active");
				 $(this).addClass("active");
				 if($(this).hasClass("men"))
		  	 		{ $(".men-depend-underwear-d").show();}
		  	 	else{
		  	 		if($(this).hasClass("women"))
		  	 		{ $(".women-depend-underwear-d").show();}
		  	 	}
				event.stopPropagation();
		  });
		// pant count chart 
		$('.included').click(function( event) {
			var showpantcount=$(this).next('.pantcount-container').css("display");
			if(showpantcount=="none"){
			$('.pantcount-container').slideUp("slow");
				$(this).next('.pantcount-container').slideDown("slow");
				$('.supply-pantcount-popup .pantcount-container').css({left:parseInt($(this).position().left)-20,bottom:parseInt($(this).position().top)+15});
				showpantcount="block";		
			}
			else
			{
				$('.pantcount-container').slideUp("slow");
				
			}
			$(".women-depend-underwear-d,.men-depend-underwear-d").hide();
			$(".pant-count-title span").removeClass("active");
			$(".pant-count-title span.men").addClass("active");
			$(".men-depend-underwear-d").show();
			event.stopPropagation();
		});
		//close the pantcount popup
		$(".close-pantcount").click(function(event){ 
			$('.pantcount-container').hide("slow");
			$(".women-depend-underwear-d,.men-depend-underwear-d").hide();
			$(".pant-count-title span").removeClass("active");
			$(".pant-count-title span.men").addClass("active");
			$(".men-depend-underwear-d").show();
			event.stopPropagation();
		});
		//close the pantcount popup 
		$(".pantcount-table").click(function(event){ 
			event.stopPropagation();
			return false;
		});
		
});
jQuery('.category-nav li').each(function() {
	$(this).mouseover(function() {
		var nav_in = $(this).next();
		nav_in.addClass('first');
	})
	$(this).mouseout(function() {
		var navout = $(this).next();
		navout.removeClass('first');
	})
})

function equalHeight(group) {
	var tallest = 0;
	group.each(function() {
		var thisHeight = $(this).height();
		if (thisHeight > tallest) {
			tallest = thisHeight;
		}
	});
	group.height(tallest);
}

function equalHeightname(group) {
	var tallestname = 0;
	group.each(function() {
		var thisHeightname = $(this).height();
		if (thisHeightname > tallestname) {
			tallestname = thisHeightname;
		}
	});
	group.height(tallestname);
}
jQuery('div.ui-widget-overlay').live("click", function() {
	jQuery('.ui-dialog-content').dialog('close');
	return false;
});


function popChatBox(pageId, params) {
	inqCustData = params;
	Inq.launchChatNowByPageID(pageId);
}



//Makes for an awesome Country popup

 function closeCountry(){
		$(this).animate({
		top: "0",
		height: "14px"
		}, 500,
		function(){
		$(".footer .copyrightLegal li ul#locale_selector li.selected").css("backgroundImage" ,"url('../images/redesign/arrow_up.gif')");
		$(this).unbind();
		$(this).mouseenter(openCountry);
		}
		);
		return 0;
}


function openCountry(){
 		$(this).animate({
 		top: "-326px", // always the height in close country - the new height
 		height: "340px"
		}, 500,
                function(){
		$(".footer .copyrightLegal li ul#locale_selector li.selected").css("backgroundImage" ,"url('../images/redesign/arrow_down.gif')");
                $(this).unbind();
                $(this).mouseleave(closeCountry);
                }
		);
		return 0;
}

function popAndLoad(){
		$(this).addClass("selected");
		newSelection =	$(this).detach();
		
		$("ul#locale_selector li").removeClass("selected");
		$("ul#locale_selector li[class!=selected]").css("backgroundImage", "none");
		$("ul#locale_selector").prepend(newSelection);	
}

function winbackerromessage(){
	if (!document.getElementById("promoSubmitErr") && document.getElementById("systemSelect")) {
		var err = document.createElement("div");
		jQuery(err).css({
			position:"relative",
			top:"0px",
			fontWeight:"bold",
			fontSize:"12px",
			color:"red",
			marginLeft:"0px",
			float:"left"
		});
		err.id = "promoSubmitErr";
		err.innerHTML = app.resources["WINBACK_ERRORMESSAGE"];
		jQuery("#systemSelect").after(err);
	}
	
}
function footermenuselection(){
		var currenturl=$(location).attr('href');
		$('.footer-menu ul li').each(function(){
		    var hrefvalue=$(this).find("a");
	            if(currenturl==hrefvalue.attr('href'))
	            {
	            	hrefvalue.addClass("selected");
	            }
	    });
}

